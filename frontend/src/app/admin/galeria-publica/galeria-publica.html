<h2 class="dash-title">Galería Pública</h2>

<div class="toolbar">
  <label class="toggle">
    <input type="checkbox" [(ngModel)]="mostrarSoloActivos" />
    <span>Mostrar solo activos</span>
  </label>
</div>

<section class="card-grid">
  <div class="galeria" *ngFor="let img of galeriaFiltrada(); let i = index">
    <img [src]="img.src" [alt]="img.alt" />
    <p class="title">{{ img.title }}</p>
    <p class="desc">{{ img.description }}</p>
    <button class="btn-editar" (click)="abrirModal(img, i)">Editar</button>
  </div>
</section>

<!-- ✅ MODAL -->
<div class="modal-backdrop" *ngIf="modalAbierto" (click)="cerrarModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <h2>Editar Imagen</h2>
    
    <img 
      *ngIf="imagenSeleccionada?.src"
      [src]="imagenSeleccionada.src" 
      [alt]="imagenSeleccionada.alt" 
      class="modal-img" 
    />
     
    <div class="form" *ngIf="imagenSeleccionada">
      <label>Título</label>
      <input [(ngModel)]="imagenSeleccionada.title" type="text" />
       
      <label>Descripción</label>
      <textarea [(ngModel)]="imagenSeleccionada.description" rows="2"></textarea>
       
      <label class="estado">
        <input type="checkbox" [(ngModel)]="imagenSeleccionada.active" /> Activo
      </label>
    </div>
     
    <div class="actions">
      <button class="btn-guardar" (click)="guardarCambios()">Guardar</button>
      <button class="btn-cerrar" (click)="cerrarModal()">Cerrar</button>
    </div>
  </div>
</div>