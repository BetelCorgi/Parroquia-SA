<section class="login-shell">
  <!-- Panel Izquierdo (Idéntico al de Login) -->
  <aside class="login-left">
    <div class="left-inner">
      <img [src]="logoUrl" alt="Logo de la Parroquia">
      <h2 class="left-title">SAN AGUSTIN</h2>
    </div>
  </aside>

  <!-- Panel Derecho (Contenido de Recuperación) -->
  <main class="login-right">
    <!-- Volver al inicio -->
    <button type="button" class="back-btn" (click)="goHome()" aria-label="Volver al inicio">
      <i class="fa-solid fa-arrow-left"></i>
      <span>Volver al inicio</span>
    </button>

    <div class="right-card">
      <h1 class="right-title">Recuperar acceso</h1>
      <p class="right-subtitle">Ingrese su correo y DNI para validar su identidad.</p>
      <form class="login-form" [formGroup]="form" (ngSubmit)="submit()">
        <label class="field">
          <span>Correo</span>
          <input type="email" placeholder="correo@parroquia.pe" formControlName="email">
          <small class="msg" *ngIf="form.controls['email'].touched && form.controls['email'].hasError('required')">
            El correo es requerido.
          </small>
          <small class="msg" *ngIf="form.controls['email'].touched && form.controls['email'].hasError('email')">
            Ingrese un correo válido.
          </small>
        </label>

        <label class="field">
          <span>DNI</span>
          <input type="text" placeholder="8 dígitos" formControlName="dni" maxlength="8">
           <small class="msg" *ngIf="form.controls['dni'].touched && form.controls['dni'].hasError('required')">
            El DNI es requerido.
          </small>
          <small class="msg" *ngIf="form.controls['dni'].touched && form.controls['dni'].hasError('pattern')">
            DNI inválido. Debe contener 8 dígitos.
          </small>
        </label>

        <p class="info" *ngIf="info">{{ info }}</p>
        <p class="error" *ngIf="error">{{ error }}</p>

        <button type="submit" class="login-btn" [disabled]="form.invalid">Enviar enlace</button>

        <div class="form-aux">
          <a class="forgot" (click)="backToLogin()" role="button">Volver a Ingresar</a>
        </div>
      </form>
    </div>
  </main>
</section>
